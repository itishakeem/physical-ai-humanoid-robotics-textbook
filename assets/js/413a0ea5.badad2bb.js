"use strict";(globalThis.webpackChunkmy_book=globalThis.webpackChunkmy_book||[]).push([[7741],{6975:(e,a,s)=>{s.r(a),s.d(a,{default:()=>u});var i=s(6540),n=s(7214),r=s(8774),t=s(6025),l=s(6347),o=s(8259),c=s(4848);const d="http://127.0.0.1:8000/api/auth";function u(){const{login:e}=(0,o.A)(),a=(0,l.W6)(),s=(0,t.Ay)(""),[u,h]=(0,i.useState)({email:"",password:""}),[m,p]=(0,i.useState)({}),[g,j]=(0,i.useState)(!1),b=e=>{const{name:a,value:s}=e.target;h(e=>({...e,[a]:s})),(m[a]||m.submit)&&p({})};return(0,c.jsx)(n.A,{title:"Sign In",children:(0,c.jsx)("div",{className:"auth-container",children:(0,c.jsxs)("div",{className:"auth-card",children:[(0,c.jsxs)("div",{className:"auth-header",children:[(0,c.jsx)("h1",{children:"Welcome Back"}),(0,c.jsx)("p",{children:"Sign in to continue your learning journey"})]}),(0,c.jsxs)("form",{onSubmit:async i=>{i.preventDefault(),j(!0),p({});try{const i=await fetch(`${d}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}),n=await i.json();if(!i.ok)throw new Error(n.detail||"Login failed");e(n.access_token,n.user),a.push(s)}catch(n){p({submit:n.message||"Invalid email or password. Please try again."})}finally{j(!1)}},className:"auth-form",children:[(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"email",children:"Email"}),(0,c.jsx)("input",{type:"email",id:"email",name:"email",value:u.email,onChange:b,placeholder:"your.email@example.com",required:!0})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"password",children:"Password"}),(0,c.jsx)("input",{type:"password",id:"password",name:"password",value:u.password,onChange:b,placeholder:"Enter your password",required:!0})]}),m.submit&&(0,c.jsx)("div",{className:"error-banner",children:m.submit}),(0,c.jsx)("button",{type:"submit",className:"auth-button",disabled:g,children:g?"Signing In...":"Sign In"}),(0,c.jsx)("div",{className:"auth-footer",children:(0,c.jsxs)("p",{children:["Don't have an account? ",(0,c.jsx)(r.A,{to:"/signup",children:"Sign up"})]})})]})]})})})}}}]);