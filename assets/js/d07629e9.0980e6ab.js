"use strict";(globalThis.webpackChunkmy_book=globalThis.webpackChunkmy_book||[]).push([[8973],{3366:(e,s,a)=>{a.r(s),a.d(s,{default:()=>c});var r=a(6540),n=a(7214),i=a(8774),l=a(6025),t=a(6347),o=a(4769),d=a(4848);const m=o.i.AUTH_URL;function c(){const e=(0,t.W6)(),s=(0,l.Ay)("/"),[a,o]=(0,r.useState)({first_name:"",last_name:"",email:"",password:"",confirm_password:"",developer_level:"Beginner"}),[c,h]=(0,r.useState)({}),[u,p]=(0,r.useState)(!1),[x,j]=(0,r.useState)(""),f=e=>{const{name:s,value:a}=e.target;o(e=>({...e,[s]:a})),c[s]&&h(e=>({...e,[s]:""}))};return(0,d.jsx)(n.A,{title:"Sign Up",children:(0,d.jsx)("div",{className:"auth-container",children:(0,d.jsxs)("div",{className:"auth-card",children:[(0,d.jsxs)("div",{className:"auth-header",children:[(0,d.jsx)("h1",{children:"Create Your Account"}),(0,d.jsx)("p",{children:"Join our community of robotics enthusiasts"})]}),(0,d.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),(()=>{const e={};return a.first_name.trim()||(e.first_name="First name is required"),a.last_name.trim()||(e.last_name="Last name is required"),a.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)||(e.email="Invalid email format"):e.email="Email is required",a.password?a.password.length<8&&(e.password="Password must be at least 8 characters"):e.password="Password is required",a.password!==a.confirm_password&&(e.confirm_password="Passwords do not match"),h(e),0===Object.keys(e).length})()){p(!0),h({});try{const r=await fetch(`${m}/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),n=await r.json();if(!r.ok)throw new Error(n.detail||"Signup failed");localStorage.setItem("auth_token",n.access_token),localStorage.setItem("user",JSON.stringify(n.user)),j(`Account created successfully! Welcome, ${n.user.first_name}!`),setTimeout(()=>{e.push(s)},2e3)}catch(n){h({submit:n.message||"Failed to create account. Please try again."})}finally{p(!1)}}},className:"auth-form",children:[(0,d.jsxs)("div",{className:"form-row",children:[(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{htmlFor:"first_name",children:"First Name"}),(0,d.jsx)("input",{type:"text",id:"first_name",name:"first_name",value:a.first_name,onChange:f,placeholder:"John",required:!0}),c.first_name&&(0,d.jsx)("span",{className:"error-message",children:c.first_name})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{htmlFor:"last_name",children:"Last Name"}),(0,d.jsx)("input",{type:"text",id:"last_name",name:"last_name",value:a.last_name,onChange:f,placeholder:"Doe",required:!0}),c.last_name&&(0,d.jsx)("span",{className:"error-message",children:c.last_name})]})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{htmlFor:"email",children:"Email"}),(0,d.jsx)("input",{type:"email",id:"email",name:"email",value:a.email,onChange:f,placeholder:"john.doe@example.com",required:!0}),c.email&&(0,d.jsx)("span",{className:"error-message",children:c.email})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{htmlFor:"password",children:"Password"}),(0,d.jsx)("input",{type:"password",id:"password",name:"password",value:a.password,onChange:f,placeholder:"Minimum 8 characters",required:!0,minLength:8}),c.password&&(0,d.jsx)("span",{className:"error-message",children:c.password})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{htmlFor:"confirm_password",children:"Confirm Password"}),(0,d.jsx)("input",{type:"password",id:"confirm_password",name:"confirm_password",value:a.confirm_password,onChange:f,placeholder:"Re-enter your password",required:!0}),c.confirm_password&&(0,d.jsx)("span",{className:"error-message",children:c.confirm_password})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{htmlFor:"developer_level",children:"Developer Level"}),(0,d.jsxs)("select",{id:"developer_level",name:"developer_level",value:a.developer_level,onChange:f,className:"select-input",children:[(0,d.jsx)("option",{value:"Beginner",children:"Beginner"}),(0,d.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,d.jsx)("option",{value:"Advanced",children:"Advanced"})]}),(0,d.jsx)("p",{className:"helper-text",children:"Beginner users receive simplified explanations"})]}),c.submit&&(0,d.jsx)("div",{className:"error-banner",children:c.submit}),x&&(0,d.jsx)("div",{className:"success-banner",children:x}),(0,d.jsx)("button",{type:"submit",className:"auth-button",disabled:u,children:u?"Creating Account...":"Create Account"}),(0,d.jsx)("div",{className:"auth-footer",children:(0,d.jsxs)("p",{children:["Already have an account? ",(0,d.jsx)(i.A,{to:"/login",children:"Sign in"})]})})]})]})})})}}}]);