"use strict";(globalThis.webpackChunkmy_book=globalThis.webpackChunkmy_book||[]).push([[7741],{4769:(e,a,s)=>{s.d(a,{i:()=>o});"undefined"!=typeof window&&window.location.hostname;const i="undefined"!=typeof window&&window.location.hostname.includes("github.io"),n=process.env.REACT_APP_BACKEND_URL||(i?"https://physical-ai-humanoid-robotics-textbook-bgc0.onrender.com":"http://127.0.0.1:8000"),o={BACKEND_URL:`${n}/chat`,CHAT_HISTORY_URL:`${n}/api/chat-history`,AUTH_URL:`${n}/api/auth`}},6975:(e,a,s)=>{s.r(a),s.d(a,{default:()=>u});var i=s(6540),n=s(7214),o=s(8774),t=s(6025),r=s(6347),l=s(8259),d=s(4769),c=s(4848);const h=d.i.AUTH_URL;function u(){const{login:e}=(0,l.A)(),a=(0,r.W6)(),s=(0,t.Ay)(""),[d,u]=(0,i.useState)({email:"",password:""}),[m,p]=(0,i.useState)({}),[b,g]=(0,i.useState)(!1),w=e=>{const{name:a,value:s}=e.target;u(e=>({...e,[a]:s})),(m[a]||m.submit)&&p({})};return(0,c.jsx)(n.A,{title:"Sign In",children:(0,c.jsx)("div",{className:"auth-container",children:(0,c.jsxs)("div",{className:"auth-card",children:[(0,c.jsxs)("div",{className:"auth-header",children:[(0,c.jsx)("h1",{children:"Welcome Back"}),(0,c.jsx)("p",{children:"Sign in to continue your learning journey"})]}),(0,c.jsxs)("form",{onSubmit:async i=>{i.preventDefault(),g(!0),p({});try{const i=await fetch(`${h}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}),n=await i.json();if(!i.ok)throw new Error(n.detail||"Login failed");e(n.access_token,n.user),a.push(s)}catch(n){p({submit:n.message||"Invalid email or password. Please try again."})}finally{g(!1)}},className:"auth-form",children:[(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"email",children:"Email"}),(0,c.jsx)("input",{type:"email",id:"email",name:"email",value:d.email,onChange:w,placeholder:"your.email@example.com",required:!0})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"password",children:"Password"}),(0,c.jsx)("input",{type:"password",id:"password",name:"password",value:d.password,onChange:w,placeholder:"Enter your password",required:!0})]}),m.submit&&(0,c.jsx)("div",{className:"error-banner",children:m.submit}),(0,c.jsx)("button",{type:"submit",className:"auth-button",disabled:b,children:b?"Signing In...":"Sign In"}),(0,c.jsx)("div",{className:"auth-footer",children:(0,c.jsxs)("p",{children:["Don't have an account? ",(0,c.jsx)(o.A,{to:"/signup",children:"Sign up"})]})})]})]})})})}}}]);