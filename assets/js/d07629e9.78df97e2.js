"use strict";(globalThis.webpackChunkmy_book=globalThis.webpackChunkmy_book||[]).push([[8973],{3366:(e,s,a)=>{a.r(s),a.d(s,{default:()=>d});var r=a(6540),i=a(7214),n=a(8774),t=a(6025),o=a(6347),l=a(4848);function d(){const e=(0,o.W6)(),s=(0,t.Ay)("/"),[a,d]=(0,r.useState)("http://127.0.0.1:8000/api/auth"),[c,m]=(0,r.useState)({first_name:"",last_name:"",email:"",password:"",confirm_password:"",developer_level:"Beginner"}),[h,u]=(0,r.useState)({}),[p,f]=(0,r.useState)(!1),[x,j]=(0,r.useState)("");(0,r.useEffect)(()=>{if("undefined"!=typeof window){const e=window.location.hostname.includes("github.io");d(e?"https://physical-ai-humanoid-robotics-textbook-bgc0.onrender.com/api/auth":"http://127.0.0.1:8000/api/auth")}},[]);const w=e=>{const{name:s,value:a}=e.target;m(e=>({...e,[s]:a})),h[s]&&u(e=>({...e,[s]:""}))};return(0,l.jsx)(i.A,{title:"Sign Up",children:(0,l.jsx)("div",{className:"auth-container",children:(0,l.jsxs)("div",{className:"auth-card",children:[(0,l.jsxs)("div",{className:"auth-header",children:[(0,l.jsx)("h1",{children:"Create Your Account"}),(0,l.jsx)("p",{children:"Join our community of robotics enthusiasts"})]}),(0,l.jsxs)("form",{onSubmit:async a=>{if(a.preventDefault(),!(()=>{const e={};return c.first_name.trim()||(e.first_name="First name is required"),c.last_name.trim()||(e.last_name="Last name is required"),c.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.email)||(e.email="Invalid email format"):e.email="Email is required",c.password?c.password.length<8&&(e.password="Password must be at least 8 characters"):e.password="Password is required",c.password!==c.confirm_password&&(e.confirm_password="Passwords do not match"),u(e),0===Object.keys(e).length})())return;f(!0),u({});const r="undefined"!=typeof window&&window.location.hostname.includes("github.io")?"https://physical-ai-humanoid-robotics-textbook-bgc0.onrender.com/api/auth":"http://127.0.0.1:8000/api/auth";try{const a=await fetch(`${r}/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),i=await a.json();if(!a.ok)throw new Error(i.detail||"Signup failed");localStorage.setItem("auth_token",i.access_token),localStorage.setItem("user",JSON.stringify(i.user)),j(`Account created successfully! Welcome, ${i.user.first_name}!`),setTimeout(()=>{e.push(s)},2e3)}catch(i){u({submit:i.message||"Failed to create account. Please try again."})}finally{f(!1)}},className:"auth-form",children:[(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"first_name",children:"First Name"}),(0,l.jsx)("input",{type:"text",id:"first_name",name:"first_name",value:c.first_name,onChange:w,placeholder:"John",required:!0}),h.first_name&&(0,l.jsx)("span",{className:"error-message",children:h.first_name})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"last_name",children:"Last Name"}),(0,l.jsx)("input",{type:"text",id:"last_name",name:"last_name",value:c.last_name,onChange:w,placeholder:"Doe",required:!0}),h.last_name&&(0,l.jsx)("span",{className:"error-message",children:h.last_name})]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"email",children:"Email"}),(0,l.jsx)("input",{type:"email",id:"email",name:"email",value:c.email,onChange:w,placeholder:"john.doe@example.com",required:!0}),h.email&&(0,l.jsx)("span",{className:"error-message",children:h.email})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"password",children:"Password"}),(0,l.jsx)("input",{type:"password",id:"password",name:"password",value:c.password,onChange:w,placeholder:"Minimum 8 characters",required:!0,minLength:8}),h.password&&(0,l.jsx)("span",{className:"error-message",children:h.password})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"confirm_password",children:"Confirm Password"}),(0,l.jsx)("input",{type:"password",id:"confirm_password",name:"confirm_password",value:c.confirm_password,onChange:w,placeholder:"Re-enter your password",required:!0}),h.confirm_password&&(0,l.jsx)("span",{className:"error-message",children:h.confirm_password})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"developer_level",children:"Developer Level"}),(0,l.jsxs)("select",{id:"developer_level",name:"developer_level",value:c.developer_level,onChange:w,className:"select-input",children:[(0,l.jsx)("option",{value:"Beginner",children:"Beginner"}),(0,l.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,l.jsx)("option",{value:"Advanced",children:"Advanced"})]}),(0,l.jsx)("p",{className:"helper-text",children:"Beginner users receive simplified explanations"})]}),h.submit&&(0,l.jsx)("div",{className:"error-banner",children:h.submit}),x&&(0,l.jsx)("div",{className:"success-banner",children:x}),(0,l.jsx)("button",{type:"submit",className:"auth-button",disabled:p,children:p?"Creating Account...":"Create Account"}),(0,l.jsx)("div",{className:"auth-footer",children:(0,l.jsxs)("p",{children:["Already have an account? ",(0,l.jsx)(n.A,{to:"/login",children:"Sign in"})]})})]})]})})})}}}]);