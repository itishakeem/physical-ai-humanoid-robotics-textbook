"use strict";(globalThis.webpackChunkmy_book=globalThis.webpackChunkmy_book||[]).push([[7741],{6975:(e,a,s)=>{s.r(a),s.d(a,{default:()=>d});var i=s(6540),t=s(7214),n=s(8774),o=s(6025),r=s(6347),l=s(8259),c=s(4848);function d(){const{login:e}=(0,l.A)(),a=(0,r.W6)(),s=(0,o.Ay)("/"),[d,h]=(0,i.useState)("http://127.0.0.1:8000/api/auth"),[u,m]=(0,i.useState)({email:"",password:""}),[p,b]=(0,i.useState)({}),[g,w]=(0,i.useState)(!1);(0,i.useEffect)(()=>{if("undefined"!=typeof window){const e=window.location.hostname.includes("github.io");h(e?"https://physical-ai-humanoid-robotics-textbook-bgc0.onrender.com/api/auth":"http://127.0.0.1:8000/api/auth")}},[]);const j=e=>{const{name:a,value:s}=e.target;m(e=>({...e,[a]:s})),(p[a]||p.submit)&&b({})};return(0,c.jsx)(t.A,{title:"Sign In",children:(0,c.jsx)("div",{className:"auth-container",children:(0,c.jsxs)("div",{className:"auth-card",children:[(0,c.jsxs)("div",{className:"auth-header",children:[(0,c.jsx)("h1",{children:"Welcome Back"}),(0,c.jsx)("p",{children:"Sign in to continue your learning journey"})]}),(0,c.jsxs)("form",{onSubmit:async i=>{i.preventDefault(),w(!0),b({});const t="undefined"!=typeof window&&window.location.hostname.includes("github.io")?"https://physical-ai-humanoid-robotics-textbook-bgc0.onrender.com/api/auth":"http://127.0.0.1:8000/api/auth";try{const i=await fetch(`${t}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}),n=await i.json();if(!i.ok)throw new Error(n.detail||"Login failed");e(n.access_token,n.user),a.push(s)}catch(n){b({submit:n.message||"Invalid email or password. Please try again."})}finally{w(!1)}},className:"auth-form",children:[(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"email",children:"Email"}),(0,c.jsx)("input",{type:"email",id:"email",name:"email",value:u.email,onChange:j,placeholder:"your.email@example.com",required:!0})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"password",children:"Password"}),(0,c.jsx)("input",{type:"password",id:"password",name:"password",value:u.password,onChange:j,placeholder:"Enter your password",required:!0})]}),p.submit&&(0,c.jsx)("div",{className:"error-banner",children:p.submit}),(0,c.jsx)("button",{type:"submit",className:"auth-button",disabled:g,children:g?"Signing In...":"Sign In"}),(0,c.jsx)("div",{className:"auth-footer",children:(0,c.jsxs)("p",{children:["Don't have an account? ",(0,c.jsx)(n.A,{to:"/signup",children:"Sign up"})]})})]})]})})})}}}]);